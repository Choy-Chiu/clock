<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>互動教學時鐘 - 手動確認版</title>
    <style>
        body { display: flex; flex-direction: column; align-items: center; font-family: 'Microsoft JhengHei', sans-serif; background: #fdfaf0; touch-action: none; margin: 0; padding: 20px; }
        #target-time { font-size: 32px; color: #d35400; margin-bottom: 10px; font-weight: bold; background: #fff; padding: 15px 35px; border-radius: 50px; border: 3px solid #f39c12; box-shadow: 0 4px 0 #e67e22; }
        #clock-container { width: 380px; height: 380px; position: relative; }
        svg { width: 100%; height: 100%; filter: drop-shadow(0 6px 12px rgba(0,0,0,0.15)); }
        
        .minute-marker-all { font-size: 2.5px; fill: #95a5a6; }
        .minute-marker-5 { font-size: 3.5px; fill: #e67e22; font-weight: bold; }
        .hour-marker { font-size: 8px; fill: #2c3e50; font-weight: bold; }
        
        .hand { stroke-linecap: round; cursor: pointer; }
        #feedback { margin-top: 15px; font-size: 22px; font-weight: bold; height: 1.5em; text-align: center; }
        
        .button-group { display: flex; gap: 10px; margin-top: 20px; }
        .btn { padding: 15px 30px; font-size: 20px; border-radius: 12px; border: none; cursor: pointer; color: white; transition: 0.2s; }
        .btn-check { background: #27ae60; box-shadow: 0 4px 0 #219150; }
        .btn-check:active { transform: translateY(2px); box-shadow: 0 2px 0 #219150; }
        .btn-next { background: #3498db; box-shadow: 0 4px 0 #2980b9; }
        .btn-next:active { transform: translateY(2px); box-shadow: 0 2px 0 #2980b9; }
    </style>
</head>
<body>

    <div id="target-time">載入中...</div>
    
    <div id="clock-container">
        <svg id="clock-svg" viewBox="0 0 100 100">
            <circle cx="50" cy="50" r="48" fill="white" stroke="#333" stroke-width="0.5"/>
            <g id="clock-face"></g>
            <line id="hour-hand" x1="50" y1="50" x2="50" y2="30" stroke="#2c3e50" stroke-width="3" class="hand" />
            <line id="minute-hand" x1="50" y1="50" x2="50" y2="18" stroke="#3498db" stroke-width="1.5" class="hand" />
            <circle cx="50" cy="50" r="2" fill="#e74c3c"/>
        </svg>
    </div>

    <div id="feedback">請調整時針與分針</div>

    <div class="button-group">
        <button class="btn btn-check" onclick="manualCheck()">我調整好了！</button>
        <button class="btn btn-next" onclick="generateTask()">換下一題</button>
    </div>

    <script>
        const clockFace = document.getElementById('clock-face');
        const hourHand = document.getElementById('hour-hand');
        const minuteHand = document.getElementById('minute-hand');
        const feedback = document.getElementById('feedback');
        const targetDisplay = document.getElementById('target-time');
        
        let currentH = 12; 
        let currentM = 0;  
        let targetH = 0, targetM = 0;

        function initClockFace() {
            clockFace.innerHTML = '';
            for (let i = 1; i <= 60; i++) {
                const angle = (i * 6) * (Math.PI /
